<!DOCTYPE html>
<!-- ===================================================================== -->
<!-- StreamSuites™ Dashboard (Static Admin UI)                             -->
<!-- Owner: Daniel Clancy                                                  -->
<!-- Copyright: © 2026 Brainstream Media Group                             -->
<!-- ===================================================================== -->
<html lang="en" class="admin-gate-pending">
<head>
  <meta charset="UTF-8" />
  <title>StreamSuites™ Admin Dashboard</title>

  <!-- Viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Basic metadata -->
  <meta name="description" content="Administer StreamSuites creators, chat triggers, jobs, and platform settings from the StreamSuites admin dashboard." />
  <meta name="robots" content="noindex, nofollow" />
  <!-- ======================================================
       Discord OAuth Configuration (AUTHORITATIVE)
       ====================================================== -->
  <meta name="discord-client-id" content="1449280789010321420" />
  <meta name="discord-redirect-uri" content="https://admin.streamsuites.app/" />
  <meta name="discord-scopes" content="identify guilds" />
  <meta name="streamsuites-auth-base" content="https://api.streamsuites.app" />
  <meta name="streamsuites-auth-session" content="https://api.streamsuites.app/auth/session" />
  <meta name="streamsuites-auth-logout" content="https://api.streamsuites.app/auth/logout" />
  <meta name="streamsuites-auth-login" content="https://api.streamsuites.app/auth/login?surface=admin&amp;redirect=https://admin.streamsuites.app/index.html" />
  <meta name="streamsuites-auth-google" content="https://api.streamsuites.app/auth/oauth/google" />
  <meta name="streamsuites-auth-github" content="https://api.streamsuites.app/auth/oauth/github" />
  <meta name="streamsuites-auth-discord" content="https://api.streamsuites.app/auth/oauth/discord" />
  <meta name="streamsuites-auth-magic-link" content="https://api.streamsuites.app/auth/magic-link" />
  <meta name="streamsuites-livechat-url" content="" />

  <!-- ========================================================= -->
  <!-- Social / Share metadata (ABSOLUTE URLS — REQUIRED) -->
  <!-- ========================================================= -->

  <!-- Open Graph -->
  <meta property="og:title" content="StreamSuites™ Admin Dashboard" />
  <meta property="og:description" content="Administer StreamSuites creators, chat triggers, jobs, and platform settings from the StreamSuites admin dashboard." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://admin.streamsuites.app/" />
  <meta property="og:image" content="https://admin.streamsuites.app/assets/logos/seodash.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="StreamSuites™ Admin Dashboard" />
  <meta name="twitter:description" content="Administer StreamSuites creators, chat triggers, jobs, and platform settings from the StreamSuites admin dashboard." />
  <meta name="twitter:image:src" content="https://admin.streamsuites.app/assets/logos/seodash.jpg" />

  <!-- ============================= -->
  <!-- Base Path -->
  <!-- ============================= -->
  <script>
    const ADMIN_BASE_PATH = "";
    window.ADMIN_BASE_PATH = ADMIN_BASE_PATH;
  </script>

  <!-- ============================= -->
  <!-- Favicon -->
  <!-- ============================= -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  <!-- ============================= -->
  <!-- Fonts (Authoritative) -->
  <!-- ============================= -->
  <style>
    @font-face {
      font-family: "RechargeBd";
      src: url("https://raw.githubusercontent.com/BSMediaGroup/Resources/master/FONTS/Recharge%20Bd.otf")
           format("opentype");
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: "SuiGenerisRg";
      src: url("https://raw.githubusercontent.com/BSMediaGroup/Resources/master/FONTS/Sui%20Generis%20Rg.otf")
           format("opentype");
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    /* ---------------------------------------------------------- */
    /* Header alignment + dashboard badge (PHASE 0 SAFE) */
    /* ---------------------------------------------------------- */
    #app-header .header-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    #app-header .header-left img {
      height: 32px;
      width: auto;
      display: block;
    }

    #app-header .header-left a {
      display: flex;
      align-items: center;
      gap: 10px;
      color: inherit;
      text-decoration: none;
    }

    #app-header .header-left a:hover {
      text-decoration: none;
    }

    .dashboard-badge {
      margin-left: 6px;
      padding: 4px 10px;
      font-size: 0.7rem;
      letter-spacing: 0.08em;
      border-radius: 4px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: #ddd;
      font-family: "SuiGenerisRg", system-ui, sans-serif;
      text-transform: uppercase;
    }

    /* ---------------------------------------------------------- */
    /* Footer link hover behavior (SAFE, SCOPED) */
    /* ---------------------------------------------------------- */
    #app-footer a {
      text-decoration: none;
      color: inherit;
    }

    #app-footer a:hover {
      text-decoration: underline;
    }

    /* ---------------------------------------------------------- */
    /* Footer layout — HARD LEFT / TRUE CENTER / HARD RIGHT */
    /* ---------------------------------------------------------- */
    #app-footer {
      display: grid !important;
      grid-template-columns: minmax(0, 1fr) auto minmax(0, 1fr) !important;
      align-items: center !important;
      column-gap: 20px !important;
      justify-content: stretch !important;
    }

    #app-footer .footer-left,
    #app-footer .footer-center,
    #app-footer .footer-right {
      display: flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
    }

    #app-footer .footer-left {
      justify-self: start;
    }

    #app-footer .footer-center {
      justify-self: center;
      justify-content: center;
      text-align: center;
    }

    #app-footer .footer-right {
      justify-self: end;
      justify-content: flex-end;
      text-align: right;
    }

    #app-footer .discord-icon {
      height: 1em;
      width: auto;
      vertical-align: middle;
      opacity: 0.9;
    }
  </style>

  <!-- ============================= -->
  <!-- Core Styles -->
  <!-- ============================= -->
  <link rel="stylesheet" href="/css/base.css" />
  <link rel="stylesheet" href="/css/theme-dark.css" />
  <link rel="stylesheet" href="/css/layout.css" />
  <link rel="stylesheet" href="/css/components.css" />
  <link rel="stylesheet" href="/css/updates.css" />
</head>

<body>

  <div id="admin-auth-overlay" class="admin-auth-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="admin-auth-title">
    <div class="admin-auth-card glass-card">
      <button id="admin-auth-close" class="admin-auth-close" aria-label="Close admin login">×</button>
      <h2 id="admin-auth-title">Admin Login</h2>
      <p class="muted">
        StreamSuites Admin access is restricted to approved administrators.
      </p>
      <div class="admin-auth-providers">
        <button class="ss-btn ss-btn-primary" data-admin-auth-provider="google">Continue with Google</button>
        <button class="ss-btn ss-btn-secondary" data-admin-auth-provider="github">Continue with GitHub</button>
      </div>
      <div class="admin-auth-divider">
        <span>Emergency Admin Access</span>
      </div>
      <form id="admin-auth-email-form" class="admin-auth-email">
        <label for="admin-auth-email">Admin Email</label>
        <div class="admin-auth-email-row">
          <input
            id="admin-auth-email"
            name="email"
            type="email"
            placeholder="admin@streamsuites.app"
            autocomplete="email"
            required
          />
          <input
            id="admin-auth-password"
            name="password"
            type="password"
            placeholder="Password"
            autocomplete="current-password"
            required
          />
          <button id="admin-auth-email-submit" class="ss-btn ss-btn-secondary" type="submit">
            Sign in
          </button>
        </div>
        <p class="muted admin-auth-note">
          This manual sign-in is an emergency fallback. If the auth API is offline, it will remain
          read-only.
        </p>
      </form>
      <div id="admin-auth-status" class="admin-auth-status" role="status" aria-live="polite"></div>
    </div>
  </div>

      <div id="admin-auth-blocked" class="admin-auth-blocked hidden">
    <div class="admin-auth-blocked-card glass-card">
      <h2 id="admin-auth-blocked-title">Admin access required</h2>
      <p id="admin-auth-blocked-message" class="muted"></p>
      <div id="admin-auth-blocked-actions" class="admin-auth-blocked-actions">
        <button id="admin-auth-open" class="ss-btn ss-btn-primary">Login as Administrator</button>
        <button id="admin-auth-blocked-logout" class="ss-btn ss-btn-secondary hidden">Logout</button>
        <a
          id="admin-auth-creator"
          class="ss-btn ss-btn-secondary hidden"
          href="https://creator.streamsuites.app"
        >
          Go to Creator Dashboard
        </a>
      </div>
    </div>
  </div>

  <div id="app">

    <!-- Header -->
    <header id="app-header">
      <div class="header-left">
        <a href="https://streamsuites.app">
          <img src="/assets/logos/LOG2-3D-SML.png" alt="StreamSuites Logo" />
          <h1 class="app-title">StreamSuites</h1>
          <span class="dashboard-badge" id="dashboard-mode">
            ADMIN DASHBOARD
          </span>
        </a>
      </div>

      <div class="header-right">
        <div class="header-row header-status-row">
          <span id="app-mode" class="status-indicator warning">
            ● static mode (read-only)
          </span>
          <span id="app-status" class="status-indicator idle">
            ● idle
          </span>
          <a
            id="livechat-launch"
            class="ss-btn ss-btn-secondary ss-btn-small disabled"
            href="#"
            target="_blank"
            rel="noopener noreferrer"
            aria-disabled="true"
            title="Configure LiveChat URL to enable"
          >
            Open LiveChat
          </a>
        </div>
        <div class="header-row header-auth-row">
          <div id="admin-auth-indicator" class="streamsuites-auth hidden">
            <div class="streamsuites-auth-avatar">
              <img
                id="admin-auth-avatar"
                src="/assets/icons/ui/profile.svg"
                data-fallback="/assets/icons/ui/profile.svg"
                alt="StreamSuites account avatar"
              />
            </div>
            <div class="streamsuites-auth-meta">
              <span id="admin-auth-name" class="streamsuites-auth-name">Administrator</span>
              <span id="admin-auth-identity" class="streamsuites-auth-identity">admin@streamsuites.app</span>
            </div>
            <span id="admin-auth-role" class="streamsuites-auth-role">Admin</span>
            <span id="admin-auth-tier" class="streamsuites-auth-tier">OPEN</span>
            <button id="admin-auth-logout" class="ss-btn ss-btn-secondary ss-btn-small">
              Logout
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Navigation -->
    <nav id="app-nav">
      <div class="nav-shell">
        <input type="checkbox" id="admin-nav-toggle" class="nav-toggle" aria-label="Toggle navigation" />
        <label class="hamburger nav-toggle-trigger" for="admin-nav-toggle">
          <span class="sr-only">Toggle navigation</span>
          <svg viewBox="0 0 32 32" aria-hidden="true">
            <path class="line line-top-bottom" d="M27 10 13 10C10.8 10 9 8.2 9 6 9 3.5 10.8 2 13 2 15.2 2 17 3.8 17 6L17 26C17 28.2 18.8 30 21 30 23.2 30 25 28.2 25 26 25 23.8 23.2 22 21 22L7 22"></path>
            <path class="line" d="M7 16 27 16"></path>
          </svg>
        </label>
        <ul id="app-nav-list">
          <li data-view="overview">Overview</li>
          <li data-view="creators">Creators</li>
          <li data-view="triggers">Chat Triggers</li>
          <li data-view="jobs">Jobs</li>
          <li data-view="clips">Clips</li>
          <li data-view="polls">Polls</li>
          <li data-view="tallies">Tallies</li>
          <li data-view="scoreboards">Scoreboards</li>
          <li data-view="data-signals">Data &amp; Signals</li>

          <li data-view="ratelimits">Rate Limits</li>
          <li data-view="settings">Settings</li>
          <li
            data-view="chat-replay"
            class="nav-disabled"
            aria-disabled="true"
            title="Unified replay engine not yet active"
          >
            Chat Replay
          </li>

          <li data-view="rumble">Rumble</li>
          <li data-view="youtube">YouTube</li>
          <li data-view="twitch">Twitch</li>
          <li data-view="kick">Kick</li>
          <li data-view="pilled">Pilled</li>
          <li data-view="twitter">Twitter</li>
          <li data-view="discord" data-discord-nav data-discord-locked>Discord</li>
          <li data-view="support">Support</li>

          <li data-view="updates">Updates</li>
          <li data-view="design">Design</li>
          <li data-view="about">About</li>
        </ul>
        <div class="nav-overflow" id="app-nav-overflow" aria-hidden="true">
          <button type="button" class="nav-more-toggle" id="app-nav-overflow-toggle" aria-expanded="false">
            &rsaquo;
          </button>
          <ul class="nav-overflow-menu" id="app-nav-overflow-menu"></ul>
        </div>
      </div>
    </nav>

    <!-- Main -->
    <main id="app-main">
      <div
        id="restart-required-banner"
        class="ss-restart-banner hidden"
        role="status"
        aria-live="polite"
      >
        <div class="ss-restart-banner-text">
          Pending changes detected — restart required to apply
        </div>
        <div class="ss-restart-banner-subtext">
          Changes will take effect when StreamSuites is restarted.
        </div>
      </div>
      <div id="view-container">
        <noscript>
          <p style="padding:20px;color:#f66;">
            This dashboard requires JavaScript to run.
          </p>
        </noscript>
      </div>
    </main>

    <!-- Footer -->
    <footer id="app-footer">

      <!-- Left -->
      <div class="footer-left">
        <img
          src="/assets/icons/discord-silver.svg"
          alt="Discord"
          class="discord-icon"
        />
        <a href="https://support.streamsuites.app" target="_blank" rel="noopener noreferrer">
          Support Server
        </a>
      </div>

      <!-- Center -->
      <div class="footer-center">
        <span id="footer-version" class="footer-version">Version unavailable</span>
        <span class="footer-sep">•</span>
        <a id="footer-copyright" href="https://brainstream.media" target="_blank" rel="noopener noreferrer">
          © 2026 Brainstream Media Group
        </a>
        <span class="footer-sep">•</span>
        <a href="https://streamsuites.app/home.html">Public Home</a>
      </div>

      <!-- Right -->
      <div class="footer-right">
        <a href="mailto:admin@streamsuites.app" target="_blank" rel="noopener noreferrer">
          admin@streamsuites.app
        </a>
      </div>

    </footer>

  </div>

  <!-- Core Scripts (Loaded after Admin Gate) -->
  <script src="/js/admin-gate.js"></script>
  <script>
    window.StreamSuitesAdminGate?.bootstrap({
      scripts: [
        `${ADMIN_BASE_PATH}/js/app.js`,
        `${ADMIN_BASE_PATH}/js/view-loader.js`,
        `${ADMIN_BASE_PATH}/js/utils/versioning.js`,
        `${ADMIN_BASE_PATH}/js/utils/version-stamp.js`,
        `${ADMIN_BASE_PATH}/js/utils/standalone-guard.js`,
        `${ADMIN_BASE_PATH}/js/utils/about-data.js`,
        `${ADMIN_BASE_PATH}/js/auth.js`,
        `${ADMIN_BASE_PATH}/js/discord-guild.js`,
        `${ADMIN_BASE_PATH}/js/utils/search-pagination.js`,
        `${ADMIN_BASE_PATH}/js/state.js`,
        `${ADMIN_BASE_PATH}/js/telemetry.js`,
        `${ADMIN_BASE_PATH}/js/platforms.js`,
        `${ADMIN_BASE_PATH}/js/creators.js`,
        `${ADMIN_BASE_PATH}/js/settings.js`,
        `${ADMIN_BASE_PATH}/js/jobs.js`,
        `${ADMIN_BASE_PATH}/js/clips.js`,
        `${ADMIN_BASE_PATH}/js/data-signals.js`,
        `${ADMIN_BASE_PATH}/js/overview.js`,
        `${ADMIN_BASE_PATH}/js/about.js`,
        `${ADMIN_BASE_PATH}/js/updates.js`,
        `${ADMIN_BASE_PATH}/js/platforms/youtube.js`,
        `${ADMIN_BASE_PATH}/js/platforms/twitch.js`,
        `${ADMIN_BASE_PATH}/js/platforms/discord.js`,
        `${ADMIN_BASE_PATH}/js/platforms/kick.js`,
        `${ADMIN_BASE_PATH}/js/platforms/pilled.js`
      ]
    });
  </script>

  <!-- Minimal Status Wiring -->
  <script>
    (function () {
      function initStatus() {
        const statusEl = document.getElementById("app-status");
        if (!statusEl) return;

        function setActive() {
          statusEl.textContent = "● active";
          statusEl.classList.remove("idle");
          statusEl.classList.add("active");
        }

        window.addEventListener("hashchange", setActive);
        document.addEventListener("click", (e) => {
          if (e.target.closest("[data-view]")) {
            setActive();
          }
        });
      }

      if (window.StreamSuitesDashboardGuard?.shouldBlock) {
        window.addEventListener(
          "streamsuites:admin-auth",
          (event) => {
            if (event?.detail?.authorized) {
              initStatus();
            }
          },
          { once: true }
        );
        return;
      }

      initStatus();
    })();
  </script>
  <script>
    (function () {
      function initLiveChat() {
        const launch = document.getElementById("livechat-launch");
        if (!launch) return;

        const params = new URLSearchParams(window.location.search);
        const paramUrl = params.get("livechatUrl");
        const metaUrl = document
          .querySelector('meta[name="streamsuites-livechat-url"]')
          ?.getAttribute("content");

        const configured =
          (typeof paramUrl === "string" && paramUrl.trim()) ||
          (typeof metaUrl === "string" && metaUrl.trim());

        if (!configured) {
          launch.classList.add("disabled");
          launch.setAttribute("aria-disabled", "true");
          launch.setAttribute(
            "title",
            "Set ?livechatUrl= or meta streamsuites-livechat-url to enable"
          );
          launch.setAttribute("href", "#");
          return;
        }

        let resolved = configured;
        try {
          resolved = new URL(configured, document.baseURI).toString();
        } catch (err) {
          console.warn("[Dashboard] LiveChat URL is not a valid URL", err);
        }

        launch.setAttribute("href", resolved);
        launch.classList.remove("disabled");
        launch.removeAttribute("aria-disabled");
        launch.setAttribute("title", `Open LiveChat (${resolved})`);
      }

      if (window.StreamSuitesDashboardGuard?.shouldBlock) {
        window.addEventListener(
          "streamsuites:admin-auth",
          (event) => {
            if (event?.detail?.authorized) {
              initLiveChat();
            }
          },
          { once: true }
        );
        return;
      }

      initLiveChat();
    })();
  </script>
</body>
</html>
