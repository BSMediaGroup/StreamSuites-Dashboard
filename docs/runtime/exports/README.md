# Runtime Exports

This directory houses static, authoritative JSON exports generated by the runtime. These files are intended for downstream consumers (such as the dashboard) to ingest without requiring live runtime dependencies.

- `changelog.json` provides runtime-scoped changelog entries that mirror the dashboard changelog schema for static consumption.
- `version.json` is the canonical version contract exported by the runtime; dashboards and public pages **must** consume this file for version/build metadata.
- Existing exports (clips, polls, tallies, scoreboards) remain unchanged and continue to serve as reference data snapshots.

## Telemetry exports (read-only)

- `telemetry/events.json` captures high-level runtime events (timestamped, human-readable, no raw chat payloads).
- `telemetry/rates.json` aggregates rolling activity counters over the last 60 seconds and 5 minutes for dashboard health indicators.
- `telemetry/errors.json` surfaces lightweight error records (type, subsystem, timestamp, message) without stack traces.
- `telemetry/auth_events.json` captures auth and email delivery events emitted by the auth API (read-only, redacted identifiers).
- All telemetry files are fully overwritten on publish for deterministic polling from GitHub Pages or other static mirrors.

## Admin exports (authoritative)

- `admin/users/users.json` captures the authoritative account snapshot for admin dashboards.
- `admin/audit/audit.json` captures the authoritative audit log snapshot for admin dashboards.
- Both exports include schema versioning plus runtime version/build metadata for downstream consumers.
- Admin exports are intended for privileged surfaces only and are not published to public dashboards.

## Optional hot reload watcher

- A runtime-only hot reload watcher can be enabled via `shared/config/system.json` (`system.hot_reload`).
- When enabled, it watches `runtime/exports/` (configurable) and re-publishes runtime snapshots + telemetry after any file change.
- Default state is **disabled** to preserve deterministic startup and avoid uncontrolled polling loops.

## Runtime changelog export (authoritative)
- `changelog.runtime.json` is the single source of truth for runtime changelog entries.
- It is consumed by the StreamSuites-Dashboard repository and merged client-side with dashboard-scope entries.
- The schema is backward compatible; entries are additive and IDs must never be reused or mutated once published.
- The canonical shape for these entries lives in `../../changelog/changelog.runtime.json`; any export or formatter should align to that structure and emit JSON only.
- Export is manual or CI-driven â€” it is **not** triggered by the runtime, and no background writers or file watchers should be introduced here.

<!-- Future-proofing note: this export may later be generated or appended to by GitHub Actions or release tooling, but no automation is implemented yet. -->
