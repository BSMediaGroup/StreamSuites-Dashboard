<!-- ========================================================= -->
<!-- StreamSuites — Unified Chat Replay (Preview) -->
<!-- Read-only, informational preview surface -->
<!-- ========================================================= -->

<style>
  .ss-controls-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 16px;
    align-items: start;
  }

  .ss-mode-toggle {
    display: inline-flex;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 10px;
    overflow: hidden;
  }

  .ss-mode-button {
    padding: 10px 14px;
    background: transparent;
    color: #e7ecff;
    border: none;
    cursor: pointer;
    font-weight: 700;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    transition: background 0.2s ease, color 0.2s ease;
    font-family: "SuiGenerisRg", system-ui, -apple-system, "Segoe UI", sans-serif;
  }

  .ss-mode-button.active {
    background: linear-gradient(135deg, rgba(83, 83, 255, 0.25), rgba(190, 132, 255, 0.2));
    color: #ffffff;
  }

  .ss-mode-button:not(:last-child) {
    border-right: 1px solid rgba(255, 255, 255, 0.08);
  }

  /* Theme selector — Na3ar-17 inspired */
  .theme-card {
    width: 100%;
    max-width: 340px;
    background-color: rgba(36, 40, 50, 1);
    background-image: linear-gradient(
      139deg,
      rgba(36, 40, 50, 1) 0%,
      rgba(36, 40, 50, 1) 0%,
      rgba(37, 28, 40, 1) 100%
    );
    border-radius: 12px;
    padding: 16px 0;
    display: flex;
    flex-direction: column;
    gap: 12px;
    box-shadow: 0 18px 32px rgba(0, 0, 0, 0.35);
    border: 1px solid rgba(255, 255, 255, 0.06);
  }

  .theme-card .separator {
    border-top: 1.5px solid #42434a;
  }

  .theme-card .list {
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 0 14px;
    margin: 0;
  }

  .theme-card .element {
    display: flex;
    align-items: center;
    color: #bfc5d4;
    gap: 10px;
    transition: all 0.2s ease-out;
    padding: 6px 9px;
    border-radius: 8px;
    cursor: pointer;
    border: 1px solid transparent;
  }

  .theme-card .element svg {
    width: 19px;
    height: 19px;
    transition: all 0.3s ease-out;
  }

  .theme-card .label {
    font-weight: 700;
    letter-spacing: 0.03em;
  }

  .theme-card .element:hover,
  .theme-card .element.active {
    background-color: #5353ff;
    color: #ffffff;
    transform: translate(1px, -1px);
    border-color: rgba(255, 255, 255, 0.2);
  }

  .theme-card .element:hover svg,
  .theme-card .element.active svg {
    stroke: #ffffff;
  }

  .theme-card .element:active {
    transform: scale(0.99);
  }

  .theme-card .list:last-child svg {
    stroke: #bd89ff;
  }
  .theme-card .list:last-child .element {
    color: #bd89ff;
  }

  .theme-card .list:last-child .element:hover,
  .theme-card .list:last-child .element.active {
    background-color: rgba(56, 45, 71, 0.9);
    color: #ffffff;
  }

  /* Live input — Lakshay-art inspired */
  .input-shell {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: 8px 0;
  }

  .live-input {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    isolation: isolate;
    --height: 64px;
    --width: 100%;
    max-width: 420px;
  }

  .live-input .glow,
  .live-input .border,
  .live-input .white,
  .live-input .darkBorderBg {
    position: absolute;
    inset: 0;
    border-radius: 14px;
    filter: blur(4px);
    z-index: -2;
  }

  .live-input .glow::before,
  .live-input .border::before,
  .live-input .white::before,
  .live-input .darkBorderBg::before {
    content: "";
    position: absolute;
    width: 620px;
    height: 620px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-repeat: no-repeat;
    background-position: 0 0;
    transition: all 2s ease;
  }

  .live-input .glow { filter: blur(24px); opacity: 0.35; }
  .live-input .glow::before {
    background-image: conic-gradient(#000, #402fb5 8%, #000 36%, #cf30aa 62%, #000 88%);
  }

  .live-input .border::before {
    background-image: conic-gradient(#1c191c, #402fb5 6%, #1c191c 16%, #cf30aa 64%, #1c191c 80%);
    filter: brightness(1.2);
  }

  .live-input .white::before {
    background-image: conic-gradient(rgba(0, 0, 0, 0) 0%, #a099d8, rgba(0, 0, 0, 0) 10%, #dfa2da 60%, rgba(0, 0, 0, 0) 70%);
    filter: brightness(1.4);
  }

  .live-input .darkBorderBg::before {
    background-image: conic-gradient(rgba(0, 0, 0, 0), #18116a 12%, rgba(0, 0, 0, 0) 46%, #6e1b60 68%, rgba(0, 0, 0, 0) 90%);
  }

  .live-input .input-field {
    background-color: #0b0e18;
    border: 1px solid rgba(255, 255, 255, 0.12);
    width: clamp(260px, 100%, 420px);
    height: 56px;
    border-radius: 12px;
    color: #f7f8ff;
    padding-inline: 56px 20px;
    font-size: 17px;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
  }

  .live-input .input-field::placeholder { color: #c0b9c0; }
  .live-input .input-field:focus { outline: none; }

  .live-input .filter-icon {
    position: absolute;
    right: 12px;
    display: grid;
    place-items: center;
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: linear-gradient(180deg, #161329, #0d0b24);
    border: 1px solid rgba(255, 255, 255, 0.12);
    box-shadow: 0 8px 22px rgba(0, 0, 0, 0.4);
  }

  .live-input .search-icon {
    position: absolute;
    left: 18px;
    top: 50%;
    transform: translateY(-50%);
  }

  .ss-mock-chat {
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    padding: 12px;
    display: grid;
    gap: 10px;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.32);
  }

  .ss-mock-row {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 10px;
    align-items: start;
  }

  .ss-mock-row .avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.14);
    background: #0c1020;
  }

  .ss-mock-row .avatar img { width: 100%; height: 100%; object-fit: cover; display: block; }

  .ss-mock-row .platform-stack {
    display: inline-flex;
    gap: 6px;
    align-items: center;
    justify-content: flex-end;
  }

  .ss-mock-row .platform-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 8px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.12);
    font-size: 0.78rem;
  }

  .ss-mock-row .platform-badge img { width: 16px; height: 16px; display: block; }

  .ss-mock-row .meta {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .ss-mock-row .meta .name {
    display: inline-flex;
    gap: 6px;
    align-items: center;
    font-weight: 700;
    letter-spacing: 0.03em;
  }

  .ss-mock-row .meta .badges {
    display: inline-flex;
    gap: 6px;
    align-items: center;
    flex-wrap: wrap;
  }

  .ss-mock-row .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
  }

  .ss-mock-row .badge img { width: 18px; height: 18px; }

  .ss-mock-row .text { color: #dbe2ff; font-size: 0.92rem; line-height: 1.4; }

  .ss-iframe-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 18px;
    align-items: start;
  }

  .ss-iframe-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    padding: 14px;
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.28);
  }

  .ss-iframe-frame {
    background: #0d1220;
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 10px;
    overflow: hidden;
  }

  .ss-popout-btn {
    background: linear-gradient(120deg, rgba(94, 115, 255, 0.32), rgba(158, 112, 255, 0.3));
    border: 1px solid rgba(255, 255, 255, 0.18);
    color: #f2f5ff;
    padding: 10px 14px;
    border-radius: 10px;
    font-weight: 700;
    letter-spacing: 0.03em;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.32);
  }
</style>

<!-- ========================================================= -->
<!-- HEADER -->
<!-- ========================================================= -->
<header class="ss-header">
  <div class="ss-header-left">
    <h1 class="ss-title">Unified Chat Replay (Preview)</h1>
    <span class="ss-subtitle">Pop-out + OBS previews (scaffolded)</span>
  </div>
  <div class="ss-header-right">
    <span class="ss-badge ss-badge-warning">Scaffolded — Not Live</span>
  </div>
</header>

<!-- ========================================================= -->
<!-- MAIN -->
<!-- ========================================================= -->
<main class="ss-main">

  <section class="ss-panel">
    <header class="ss-panel-header">
      <h2>Preview-only surface</h2>
    </header>

    <div class="ss-panel-body">
      <p>
        The Unified Chat Replay experience is scaffolded for visibility only. These previews
        load local placeholder HTML and do not hydrate from runtime feeds yet.
      </p>
      <p class="muted" style="margin-bottom: 0;">
        There is no resizing logic, no persistence, and no outbound connections. The dashboard
        remains static and read-only.
      </p>
    </div>
  </section>

  <section class="ss-panel">
    <header class="ss-panel-header" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;">
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;">
        <h2 style="margin:0;">Modes &amp; Controls</h2>
        <div class="ss-mode-toggle" role="group" aria-label="Replay or Live">
          <button class="ss-mode-button active" data-mode="replay" type="button">Replay</button>
          <button class="ss-mode-button" data-mode="live" type="button">Live</button>
        </div>
      </div>
      <button class="ss-popout-btn" id="popout-button" type="button">
        <img src="../assets/icons/ui/windows.svg" alt="Pop-out" width="18" height="18" />
        Pop-out Chat Window
      </button>
    </header>

    <div class="ss-panel-body">
      <div class="ss-controls-grid">
        <div>
          <p style="margin-top:0;">Theme selector follows the Na3ar-17 card structure so runtime parity can be eyeballed.</p>
          <div class="theme-card" id="theme-card" aria-label="Theme selector">
            <ul class="list">
              <li class="element active" data-theme="default">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="#7e8590" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon-star">
                  <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
                  <path d="M19 3v4"></path>
                  <path d="M21 5h-4"></path>
                </svg>
                <p class="label">Default</p>
              </li>
              <li class="element" data-theme="slate">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="#7e8590" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloudy">
                  <path d="M17.5 19a4.5 4.5 0 0 0-.3-9 6 6 0 0 0-11-2"></path>
                  <path d="M12.5 19H5a3 3 0 0 1-.1-6"></path>
                </svg>
                <p class="label">Slate</p>
              </li>
            </ul>
            <div class="separator"></div>
            <ul class="list">
              <li class="element" data-theme="midnight">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="#7e8590" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles">
                  <path d="M12 3v4"></path>
                  <path d="M10 5h4"></path>
                  <path d="m5 19 1.5-3L10 14.5 6.5 13 5 10l-1.5 3L0 14.5 3.5 16 5 19Z"></path>
                  <path d="M15 19h7"></path>
                  <path d="M18.5 16.5v5"></path>
                </svg>
                <p class="label">Midnight</p>
              </li>
              <li class="element" data-theme="light">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="#7e8590" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun">
                  <circle cx="12" cy="12" r="5"></circle>
                  <path d="M12 1v2"></path>
                  <path d="M12 21v2"></path>
                  <path d="m4.22 4.22 1.42 1.42"></path>
                  <path d="m18.36 18.36 1.42 1.42"></path>
                  <path d="M1 12h2"></path>
                  <path d="M21 12h2"></path>
                  <path d="m4.22 19.78 1.42-1.42"></path>
                  <path d="m18.36 5.64 1.42-1.42"></path>
                </svg>
                <p class="label">Light</p>
              </li>
            </ul>
          </div>
        </div>

        <div>
          <p style="margin-top:0;">Live input preview mirrors the Lakshay-art treatment with our dark palette.</p>
          <div class="input-shell">
            <div class="live-input" aria-label="Live input preview">
              <div class="glow"></div>
              <div class="darkBorderBg"></div>
              <div class="white"></div>
              <div class="border"></div>
              <input class="input-field" type="text" placeholder="Type a live message" />
              <div class="search-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" height="24" fill="none" class="feather feather-search">
                  <circle stroke="url(#search)" r="8" cy="11" cx="11"></circle>
                  <line stroke="url(#searchl)" y2="16.65" y1="22" x2="16.65" x1="22"></line>
                  <defs>
                    <linearGradient gradientTransform="rotate(50)" id="search">
                      <stop stop-color="#f8e7f8" offset="0%"></stop>
                      <stop stop-color="#b6a9b7" offset="50%"></stop>
                    </linearGradient>
                    <linearGradient id="searchl">
                      <stop stop-color="#b6a9b7" offset="0%"></stop>
                      <stop stop-color="#837484" offset="50%"></stop>
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <div class="filter-icon" aria-hidden="true">
                <svg preserveAspectRatio="none" height="27" width="27" viewBox="4.8 4.56 14.832 15.408" fill="none">
                  <path d="M8.16 6.65002H15.83C16.47 6.65002 16.99 7.17002 16.99 7.81002V9.09002C16.99 9.56002 16.7 10.14 16.41 10.43L13.91 12.64C13.56 12.93 13.33 13.51 13.33 13.98V16.48C13.33 16.83 13.1 17.29 12.81 17.47L12 17.98C11.24 18.45 10.2 17.92 10.2 16.99V13.91C10.2 13.5 9.97 12.98 9.73 12.69L7.52 10.36C7.23 10.08 7 9.55002 7 9.20002V7.87002C7 7.17002 7.52 6.65002 8.16 6.65002Z" stroke="#d6d6e6" stroke-width="1" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
              </div>
            </div>
          </div>
          <div class="ss-mock-chat" aria-label="Badge alignment preview">
            <div class="ss-mock-row">
              <div class="avatar" aria-hidden="true">
                <img src="../assets/placeholders/daniel.png" alt="" />
              </div>
              <div class="meta">
                <div class="name">daniel_clancy</div>
                <div class="badges">
                  <span class="badge" title="Owner"><img src="../assets/icons/dcbadge.svg" alt="Owner" /></span>
                  <span class="badge" title="Pro User"><img src="../assets/icons/prouser.svg" alt="Pro" /></span>
                  <span class="badge" title="Moderator"><img src="../assets/icons/mod.svg" alt="Moderator" /></span>
                </div>
                <div class="text">Multi-badge example shows stack ordering with reduced text size and tighter line-height.</div>
              </div>
              <div class="platform-stack">
                <span class="platform-badge" aria-label="YouTube"><img src="../assets/icons/youtube.svg" alt="YouTube" />YouTube</span>
                <span class="platform-badge" aria-label="Discord"><img src="../assets/icons/discord.svg" alt="Discord" />Discord</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="ss-panel">
    <header class="ss-panel-header">
      <h2 style="margin:0;">Preview Targets</h2>
      <p class="muted" style="margin:6px 0 0 0;">Avatar visibility, platform badges (top-right), and reduced message text size mirror the runtime mocks.</p>
    </header>

    <div class="ss-panel-body">
      <div class="ss-iframe-grid">
        <div class="ss-iframe-card">
          <div class="ss-panel-header" style="padding:0 0 10px 0;margin:0 0 10px 0;border-bottom:1px solid rgba(255,255,255,0.06);">
            <div style="display:flex;align-items:center;gap:10px;">
              <div style="font-weight:600;letter-spacing:0.02em;">Embedded Chat Window</div>
              <span class="ss-badge" style="background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.12);color:#dfe6ff;">Preview</span>
            </div>
            <p class="muted" style="margin:6px 0 0 0;">Embeddable window for local chat playback mock.</p>
          </div>
          <div class="ss-iframe-frame">
            <iframe
              id="window-preview"
              src="./chat_replay_window.html?theme=default&mode=replay"
              title="Embedded Chat Window Preview"
              style="width:100%;height:360px;border:0;filter:saturate(1);background:#0d1220;"
              loading="lazy"
            ></iframe>
          </div>
        </div>

        <div class="ss-iframe-card">
          <div class="ss-panel-header" style="padding:0 0 10px 0;margin:0 0 10px 0;border-bottom:1px solid rgba(255,255,255,0.06);">
            <div style="display:flex;align-items:center;gap:10px;">
              <div style="font-weight:600;letter-spacing:0.02em;">OBS / Browser Source Overlay</div>
              <span class="ss-badge" style="background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.12);color:#dfe6ff;">Preview</span>
            </div>
            <p class="muted" style="margin:6px 0 0 0;">Documentation-grade overlay scaffold for OBS/browser sources.</p>
          </div>
          <div class="ss-iframe-frame">
            <iframe
              id="overlay-preview"
              src="./chat_overlay_obs.html?theme=default&mode=replay"
              title="OBS / Browser Source Overlay Preview"
              style="width:100%;height:360px;border:0;filter:saturate(1);background:#0d1220;"
              loading="lazy"
            ></iframe>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>

<!-- ========================================================= -->
<!-- FOOTER -->
<!-- ========================================================= -->
<footer class="ss-footer">
  <span class="muted">
    Unified Chat Replay previews are scaffolded only; runtime hydration will be added later.
  </span>
</footer>

<script src="../js/chatReplay.js"></script>
<script>
  window.ChatReplayPreview?.initChatReplayPreview();
</script>
