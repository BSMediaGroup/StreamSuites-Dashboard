<!-- ========================================================= -->
<!-- StreamSuites — Accounts (VIEW PARTIAL) -->
<!-- ========================================================= -->

<header class="ss-header">
  <div class="ss-header-left">
    <h1 class="ss-title">StreamSuites</h1>
    <span class="ss-subtitle">Accounts</span>
  </div>
</header>

<main class="ss-main">
  <section class="ss-panel">
    <header class="ss-panel-header">
      <div class="ss-panel-header-main">
        <h2>Accounts</h2>
        <p class="muted" style="margin:6px 0 0;">
          Account visibility and admin actions sourced from live runtime APIs.
          <a
            class="ss-link"
            href="https://docs.streamsuites.app/support/troubleshooting"
            target="_blank"
            rel="noopener noreferrer"
          >
            Auth troubleshooting
          </a>
        </p>
      </div>
      <div class="ss-panel-header-actions">
        <button id="accounts-export-json" class="ss-btn ss-btn-secondary">
          Export Users (JSON)
        </button>
        <button id="accounts-export-csv" class="ss-btn ss-btn-secondary">
          Export Users (CSV)
        </button>
      </div>
    </header>

    <div class="ss-panel-body">
      <div id="accounts-snapshot-banner" class="ss-alert hidden"></div>

      <div class="ss-toolbar">
        <div class="ss-toolbar-left">
          <input
            type="search"
            id="accounts-search"
            class="ss-input"
            placeholder="Search by user code, email, or name"
          />
          <select id="accounts-role-filter" class="ss-input">
            <option value="">All roles</option>
          </select>
          <select id="accounts-tier-filter" class="ss-input">
            <option value="">All tiers</option>
          </select>
          <select id="accounts-provider-filter" class="ss-input">
            <option value="">All providers</option>
          </select>
        </div>
        <div class="ss-toolbar-right">
          <label class="muted">
            <input type="checkbox" id="accounts-id-toggle" checked />
            Show internal IDs
          </label>
          <span id="accounts-status" class="muted">Loading…</span>
        </div>
      </div>

      <div class="ss-meta-row">
        <div><strong>Total users:</strong> <span id="accounts-count">—</span></div>
        <div><strong>Source:</strong> <span id="accounts-source">—</span></div>
        <div><strong>Export status:</strong> <span id="accounts-export-status">Idle</span></div>
      </div>

      <div class="ss-table-scroll ss-accounts-table-scroll" id="accounts-table-scroll">
        <table class="ss-table ss-table-compact" id="accounts-table">
          <thead>
            <tr>
              <th class="accounts-id-column" data-sort="id" data-col-key="internalId">Internal UUID</th>
              <th data-sort="userCode" data-col-key="userCode">User Code</th>
              <th data-sort="email" data-col-key="email">Email</th>
              <th data-sort="emailVerifiedLabel" data-col-key="emailVerified">Email Verified</th>
              <th data-sort="displayName" data-col-key="displayName">Display Name</th>
              <th data-sort="role" data-col-key="role">Role</th>
              <th data-sort="tier" data-col-key="tier">Tier</th>
              <th data-sort="supporterLabel" data-col-key="supporter" data-supporter-column="true">Supporter</th>
              <th data-sort="accountStatus" data-col-key="accountStatus">Account Status</th>
              <th data-sort="onboardingStatus" data-col-key="onboardingStatus">Onboarding</th>
              <th data-sort="providersLabel" data-col-key="providers">Providers</th>
              <th data-sort="createdAt" data-col-key="createdAt">Created Date</th>
              <th data-sort="lastLogin" data-col-key="lastLogin">Last Login</th>
              <th class="align-right" data-col-key="actions">Actions</th>
            </tr>
          </thead>
          <tbody id="accounts-body"></tbody>
        </table>
      </div>

      <div id="accounts-empty" class="ss-empty hidden">No accounts available yet. Check runtime connectivity or adjust filters.</div>
      <div class="pager" id="accounts-pagination"></div>
    </div>
  </section>
</main>

<footer class="ss-footer">
  <span class="muted">Account data mirrors live runtime state; actions require an active admin session.</span>
</footer>

<div id="accounts-details-backdrop" class="accounts-details-backdrop hidden" aria-hidden="true"></div>

<aside
  id="accounts-details-drawer"
  class="accounts-details-drawer hidden"
  role="dialog"
  aria-modal="true"
  aria-hidden="true"
  aria-labelledby="accounts-details-title"
  tabindex="-1"
>
  <header class="accounts-details-header">
    <div class="accounts-details-header-text">
      <h3 id="accounts-details-title">Account Details</h3>
      <p id="accounts-details-subtitle" class="muted">Select an account to inspect details and actions.</p>
    </div>
    <button
      type="button"
      id="accounts-details-close"
      class="ss-btn ss-btn-small ss-btn-secondary"
      data-account-close-details
      aria-label="Close account details"
    >
      Close
    </button>
  </header>

  <div id="accounts-details-content" class="accounts-details-content">
    <section id="accounts-details-profile-section" class="accounts-details-section" aria-label="Profile summary">
      <h4 class="accounts-details-section-title">Profile</h4>
      <div id="accounts-details-profile"></div>
    </section>

    <section id="accounts-details-actions-section" class="accounts-details-section" aria-label="Account actions">
      <h4 id="accounts-details-actions-heading" class="accounts-details-section-title" tabindex="-1">Actions</h4>
      <div id="accounts-details-actions"></div>
    </section>
  </div>
</aside>
