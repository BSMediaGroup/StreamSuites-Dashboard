<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>StreamSuites — Overview</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Core styles -->
  <link rel="stylesheet" href="../css/base.css" />
  <link rel="stylesheet" href="../css/theme-dark.css" />
  <link rel="stylesheet" href="../css/layout.css" />
  <link rel="stylesheet" href="../css/components.css" />
</head>

<body class="ss-app ss-dark">

  <!-- ========================================================= -->
  <!-- HEADER -->
  <!-- ========================================================= -->
  <header class="ss-header">
    <div class="ss-header-left">
      <h1 class="ss-title">StreamSuites</h1>
      <span class="ss-subtitle">Overview</span>
    </div>
  </header>

  <!-- ========================================================= -->
  <!-- MAIN -->
  <!-- ========================================================= -->
  <main class="ss-main">

    <!-- --------------------------------------------------------- -->
    <!-- SYSTEM STATUS -->
    <!-- --------------------------------------------------------- -->
    <section class="ss-panel">
      <header class="ss-panel-header">
        <h2>System Status</h2>
      </header>

      <div class="ss-panel-body">
        <table class="ss-table ss-table-compact">
          <tbody>
            <tr>
              <td>Dashboard State</td>
              <td id="ov-dashboard-state" class="align-right muted">
                idle
              </td>
            </tr>
            <tr>
              <td>Local Storage Available</td>
              <td id="ov-storage-state" class="align-right muted">
                unknown
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- --------------------------------------------------------- -->
    <!-- CONFIG SUMMARY -->
    <!-- --------------------------------------------------------- -->
    <section class="ss-panel">
      <header class="ss-panel-header">
        <h2>Configuration Summary</h2>
      </header>

      <div class="ss-panel-body">
        <table class="ss-table ss-table-compact">
          <tbody>
            <tr>
              <td>Creators Configured</td>
              <td id="ov-creators-count" class="align-right">
                —
              </td>
            </tr>
            <tr>
              <td>Chat Triggers Configured</td>
              <td id="ov-triggers-count" class="align-right">
                —
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- --------------------------------------------------------- -->
    <!-- NEXT MODULES (PLACEHOLDER, READ-ONLY) -->
    <!-- --------------------------------------------------------- -->
    <section class="ss-panel">
      <header class="ss-panel-header">
        <h2>Upcoming Modules</h2>
      </header>

      <div class="ss-panel-body">
        <ul class="ss-list muted">
          <li>Chat-triggered clip generation</li>
          <li>Live polls (chat-driven voting)</li>
          <li>Multi-platform posting rules</li>
        </ul>
      </div>
    </section>

  </main>

  <!-- ========================================================= -->
  <!-- FOOTER -->
  <!-- ========================================================= -->
  <footer class="ss-footer">
    <span class="muted">
      Overview is read-only and reflects locally stored configuration.
    </span>
  </footer>

  <!-- ========================================================= -->
  <!-- LOGIC -->
  <!-- ========================================================= -->
  <script>
    (function () {
      const elDashboardState = document.getElementById("ov-dashboard-state");
      const elStorageState = document.getElementById("ov-storage-state");
      const elCreatorsCount = document.getElementById("ov-creators-count");
      const elTriggersCount = document.getElementById("ov-triggers-count");

      // Dashboard active indicator
      elDashboardState.textContent = "active";

      // Storage availability
      try {
        localStorage.setItem("__ss_test__", "1");
        localStorage.removeItem("__ss_test__");
        elStorageState.textContent = "available";
      } catch {
        elStorageState.textContent = "unavailable";
      }

      // Creators count
      const creators = App?.storage?.loadFromLocalStorage("creators", []);
      elCreatorsCount.textContent = Array.isArray(creators)
        ? creators.length
        : "—";

      // Triggers count
      const chatBehaviour = App?.storage?.loadFromLocalStorage("chat_behaviour", {});
      const triggers = Array.isArray(chatBehaviour?.triggers)
        ? chatBehaviour.triggers
        : [];
      elTriggersCount.textContent = triggers.length;
    })();
  </script>

</body>
</html>
