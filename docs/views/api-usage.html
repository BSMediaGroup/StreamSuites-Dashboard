<!-- ========================================================= -->
<!-- StreamSuites - API Usage (VIEW PARTIAL) -->
<!-- ========================================================= -->

<header class="ss-header">
  <div class="ss-header-left">
    <h1 class="ss-title">StreamSuites</h1>
    <span class="ss-subtitle">API Usage</span>
  </div>
</header>

<main class="ss-main">
  <section class="ss-panel">
    <header class="ss-panel-header">
      <div class="ss-panel-header-main">
        <h2>Runtime API Usage</h2>
        <p class="muted" style="margin:6px 0 0;">
          Rolling request and error rates sourced from the live runtime.
          <a
            class="ss-link"
            href="https://docs.streamsuites.app/runtime/api-authentication"
            target="_blank"
            rel="noopener noreferrer"
          >
            API authentication docs
          </a>
        </p>
      </div>
      <div class="ss-panel-header-actions">
        <label class="muted" for="api-usage-window-select" style="margin-right:6px;">Window</label>
        <select id="api-usage-window-select" class="ss-select" style="margin-right:12px;">
          <option value="60">Last 1m</option>
          <option value="300" selected>Last 5m</option>
          <option value="900">Last 15m</option>
          <option value="3600">Last 1h</option>
          <option value="86400">Last 24h</option>
        </select>
        <span id="api-usage-status" class="muted">Loading...</span>
      </div>
    </header>

    <div class="ss-panel-body">
      <div id="api-usage-banner" class="ss-alert hidden"></div>

      <div class="ss-meta-row">
        <div><strong>RPM:</strong> <span id="api-usage-rpm">--</span></div>
        <div><strong>Error rate:</strong> <span id="api-usage-error-rate">--</span></div>
        <div><strong>Window:</strong> <span id="api-usage-window">--</span></div>
      </div>

      <div id="api-usage-chart-panel" class="ss-panel api-usage-chart-panel" style="padding:16px;">
        <canvas id="api-usage-chart" class="api-usage-chart-canvas" aria-label="API usage chart"></canvas>
        <div id="api-usage-empty" class="ss-empty hidden" style="margin-top:12px;">
          No data yet.
        </div>
      </div>
    </div>
  </section>

  <section class="ss-panel">
    <header class="ss-panel-header">
      <div class="ss-panel-header-main">
        <h2>Endpoint Health</h2>
        <p class="muted" style="margin:6px 0 0;">
          Per-endpoint latency, saturation, and reliability indicators.
        </p>
      </div>
    </header>
    <div class="ss-panel-body">
      <div class="ss-empty">
        Awaiting telemetry ingestion. Endpoint health data will appear here.
      </div>
    </div>
  </section>

  <section class="ss-panel">
    <header class="ss-panel-header">
      <div class="ss-panel-header-main">
        <h2>Auth &amp; Access Signals</h2>
        <p class="muted" style="margin:6px 0 0;">
          Authentication trends, denied requests, and suspicious access patterns.
        </p>
      </div>
    </header>
    <div class="ss-panel-body">
      <div class="ss-empty">
        No data available yet. Auth and access signals will populate once collected.
      </div>
    </div>
  </section>

  <section class="ss-panel">
    <header class="ss-panel-header">
      <div class="ss-panel-header-main">
        <h2>Tier &amp; Surface Usage</h2>
        <p class="muted" style="margin:6px 0 0;">
          Usage split by plan tier, integration surface, and client type.
        </p>
      </div>
    </header>
    <div class="ss-panel-body">
      <div class="ss-empty">
        Awaiting telemetry ingestion. Tier and surface usage will appear here.
      </div>
    </div>
  </section>

  <section class="ss-panel">
    <header class="ss-panel-header">
      <div class="ss-panel-header-main">
        <h2>Version Regression Watch</h2>
        <p class="muted" style="margin:6px 0 0;">
          API version comparisons highlighting regressions and error spikes.
        </p>
      </div>
    </header>
    <div class="ss-panel-body">
      <div class="ss-empty">
        No data available yet. Version regression monitoring will appear here.
      </div>
    </div>
  </section>
</main>

<footer class="ss-footer">
  <span class="muted">Charts update every 5 seconds when the runtime is available.</span>
</footer>
